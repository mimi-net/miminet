# DHCP for Miminet
Добавление DHCP реализованно на хосте, чтобы запустить DHCP серврер выбирете соответствующую команду в разделе "Добавить команду" в конфигурации хоста.
Введите параметры: диапазон IP-адресов (второе значение обязательно должно быть больше первого, например: 10.0.0.10, 10.0.0.20)
укажите маску подсети и шлюз, которые DHCP сервер будет выдавать запросившим хостам.

После добавления команды у всех хостов появится чекбокс "ВыдатьIP-адрес автоматически". При нажатии на чекбокс параметры хоста ip, netmask, gateway станут недоступными для редактирования.
После нажатия на кнопку "Эмулировать" на backend части серера построится сеть, и DHCP сервер (если он добавлен) раздаст IP-адреса тем хостам, которые его запросили.
По завершении эмуляции конфигурации хостов обновятся и они получат IP-адреса (шлюз и маску). 

Заметьте, если вы удалить команду добавления DHCP сервера, то чекбоксы на хостах пропадут.



# For developers

## Реализация DHCP-сервера и клиента

Этот репозиторий содержит код на Python для реализации базового DHCP-сервера и клиента. DHCP-сервер отвечает за динамическое присвоение IP-адресов хостам в определенном диапазоне.

## Использование

### DHCP-сервер

Чтобы запустить DHCP-сервер, вы можете использовать следующую функцию:

```python
from job import dhcp_server

# Предоставьте необходимую информацию о задании
job_info = {
    'arg_1': '10.0.0.10,10.0.0.20',  # Диапазон IP-адресов
    'arg_2': 16,                       # Маска подсети
    'arg_3': '10.0.0.1'                # Шлюз по умолчанию
}

# Замените следующее на вашу фактическую информацию о хосте и задании
dhcp_server(job_info, ваш_хост_задания)
```

### DHCP-клиент

Чтобы настроить хост в качестве DHCP-клиента, используйте следующую функцию:

```python
from job import dhcp_client

# Замените следующее на вашу фактическую информацию о задании и хосте
dhcp_client(ваша_информация_о_задании, ваш_хост_задания)
```

Убедитесь, что функции `mask_to_byte` и `parse_ip_route_show_output` правильно определены и импортированы для DHCP-сервера и клиента соответственно.

## Важные замечания

- DHCP-сервер требует службы `dnsmasq`. Убедитесь, что она установлена и запущена на хосте.
- Конфигурация DHCP-клиента включает в себя установку сетевого интерфейса (`ifconfig`), получение IP-адреса (`dhclient`) и обновление информации о маршрутизации.

